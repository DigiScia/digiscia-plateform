# ─────────────────────────────────────────────
# 🔒 SECRET & DEBUG
# ─────────────────────────────────────────────
SECRET_KEY=5Ao_m98__7e5MJhCqOv9IJoAIcknaA2Obvy59Wa8wA1Hljwxcm9YW8viWPHRrpNfgCU
DEBUG=False

# ─────────────────────────────────────────────
# 🌍 HOSTS (Fly.io + domaine personnalisé)
# IMPORTANT : pas de http:// ici !
# ─────────────────────────────────────────────
ALLOWED_HOSTS=localhost,127.0.0.1,.fly.dev,digiscia.com,www.digiscia.com,api.digiscia.com,academy.digiscia.com

# ─────────────────────────────────────────────
# 🗄️ DATABASE
# Fly.io PostgreSQL (si DATABASE_URL présente, elle sera utilisée)
# Sinon fallback local
# ─────────────────────────────────────────────
DATABASE_URL=postgres://postgres:admin@localhost:5432/digiscia_db
DB_NAME=digiscia_db
DB_USER=postgres
DB_PASSWORD=admin
DB_HOST=localhost
DB_PORT=5432

# ─────────────────────────────────────────────
# 🌐 CORS & CSRF (URLs du frontend)
# Cloudflare Frontend : https://digiscia.com, academy : https://academy.digiscia.com
# ─────────────────────────────────────────────
CORS_ALLOWED_ORIGINS=https://digiscia.com,https://www.digiscia.com,https://academy.digiscia.com,http://localhost:5173

# ─────────────────────────────────────────────
# 🔒 HTTPS SECURITY
# Fly.io gère TLS, HTTPS forcé côté service
# ─────────────────────────────────────────────
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# ─────────────────────────────────────────────
# ✨ Variables Fly.io
# ─────────────────────────────────────────────
FLY_APP_NAME=digiscia-backend
CUSTOM_DOMAIN=digiscia.com
ACADEMY_DOMAIN=academy.digiscia.com
